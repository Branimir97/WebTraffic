{% extends 'base.html.twig' %}

{% block title %}Admin panel{% endblock %}

{% block body %}
    {% if app.user %}
        <div class="container-fluid">   
            <h2 class="p-3 bg-light text-center">Admin panel <i class="fas fa-chalkboard-teacher"></i></h2> 
            <a href="{{ path('home') }}"><i class="far fa-arrow-alt-circle-left"></i> Homepage</a>
            <div class="text-right">
                <a class="btn btn-outline-info" href="{{ path('app_logout') }}">Logout <i class="fas fa-sign-out-alt"></i></a>
            </div>
            {% include "admin/account_delete_form.html.twig" %}
            <div class="table-responsive mt-2">
            <table class="table table-striped table-hover">
                <caption>List of visitors</caption>
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Ip</th>
                        <th>Country name</th>
                        <th>Country code</th>
                        <th>Continent name</th>
                        <th>Continent code</th>
                        <th>Currency code</th>
                        <th>Timezone</th>
                        <th>Spent time</th>
                        <th>Visits number</th>
                        <th>Referer</th>
                        <th>First visit</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in visitors %}
                        <tr>
                            <td>{{ item.id }}</td>
                            <td>{{ item.ip }}</td>
                            <td>{{ item.countryName }}</td>
                            <td>{{ item.countryCode }}</td>
                            <td>{{ item.continentName }}</td>
                            <td>{{ item.continentCode }}</td>
                            <td>{{ item.currencyCode }}</td>
                            <td>{{ item.timezone }}</td>
                            <td>{{ item.spentTime|date("H:i:s") }}</td>
                            <td>{{ item.visitsNumber }}</td>
                            <td>{{ item.referer }}</td>
                            <td>{{ item.createdAt|date("m/d/Y") }}</td>
                        </tr>    
                    {% endfor %}
                </tbody>
            </table>
            </div>
        </div>
    {% endif %}    
{% endblock %}
